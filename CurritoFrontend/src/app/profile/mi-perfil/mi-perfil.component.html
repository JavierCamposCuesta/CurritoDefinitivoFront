<div class="m-5 rounded-3 shadow p-3 mb-5 bg-body"
  style="border: 1px solid lightblue;">
  <form autocomplete="off" [formGroup]="miFormularioDatosPerfil" (ngSubmit)="submitFormulario()" class="row g-3 p-3">

    <h3 class="gray5 p-3 text-center">Actualiza tus datos
      {{usuarioRegistrado.nombre?.charAt(0)?.toUpperCase()}}{{usuarioRegistrado.nombre?.slice(1)}}
      {{usuarioRegistrado.apellidos?.charAt(0)?.toUpperCase()}}</h3>
    <hr class="p-1" style="color: lightblue;">
    <h4 class="gray6 text-start">Datos del perfil:</h4>
    <!-- Nombre -->
    <div class="col-md-4">
      <label for="nombre" class="form-label ms-2">Nombre:</label>
      <input type="text" class="form-control" formControlName="nombre">
      <span class="form-text text-danger" *ngIf="campoNoValido('nombre')">
        Sólo letras
      </span>
    </div>

    <!-- Apellidos -->
    <div class="col-md-8">
      <label for="apellidos" class="form-label ms-2">Apellidos:</label>
      <input type="text" class="form-control" formControlName="apellidos">
      <span class="form-text text-danger" *ngIf="campoNoValido('apellidos')">
        Sólo letras
      </span>
    </div>

    <!-- Email -->
    <div class="col-md-8">
      <label for="email" class="form-label ms-2">Correo electrónico:</label>
      <input type="email" class="form-control" value="{{usuarioRegistrado.email}}" readonly>

    </div>

    <!-- Telefono -->
    <div class="col-md-4">
      <label for="telefono" class="form-label ms-2">Teléfono:</label>
      <input type="text" class="form-control" formControlName="telefono" maxlength="9">
      <span class="form-text text-danger" *ngIf="campoNoValido('telefono')">
        Deben ser 9 dígitos.
      </span>
    </div>

    <!-- Direcccion -->
    <div class="col-md-12 text-start">
      <label for="inputEmail4" class="form-label ms-2">Dirección:</label>
      <input type="text" class="form-control" formControlName="ubicacion">
      <span class="form-text text-danger" *ngIf="campoNoValido('ubicacion')">
        La dirección es requerida
      </span>
    </div>

    <!-- Nacimiento -->
    <!-- <div class="col-md-4 text-start">
            <label for="inputPassword4" class="form-label ms-2">Nacimiento</label>
            <input type="date" class="form-control" formControlName="nacimiento">
    </div> -->

    <div class="col-md-12 row">
      <label class="form-label mt-3 text-center gray5 pt-3">Selecciona nueva foto de perfil</label>
      <div class="image-upload text-center">
        <!-- <label for="file-input">
          <i class="bi bi-image navy" alt="Click aquí para subir tu foto" title="Click aquí para subir tu foto"></i>
        </label> -->
        <input id="file-input" type="file" (change)="selectFile($event)" />
        <img *ngIf="previsualizarImagen==''" class="img-fluid rounded-circle p-5 text-center" style="max-height: 200px;"
          src={{getImage(usuarioRegistrado.fotoPerfil!)}} alt="foto de perfil">
        <img *ngIf="previsualizarImagen!=''" class="img-fluid rounded-circle p-5 text-center" style="max-height: 200px;"
          src={{previsualizarImagen}} alt="foto de perfil">
      </div>


    </div>

    <div class="w-100 text-center">
      <input type="submit" class="btn rounded-3 w-25 navyBg text-white" value="Guardar"
        [disabled]="!miFormularioDatosPerfil.valid">
    </div>
  </form>


  <hr class="p-1" style="color: lightblue;">


  <form autocomplete="off" [formGroup]="miFormularioDatosPass" (ngSubmit)="submitFormularioPass()"
    class="row g-3 p-3 gray5 rounded-3">
    <h4 class="gray6 text-start">Datos de seguridad:</h4>
    <!-- Password antigua-->
    <div class="row">
      <div class="col-md-6">
        <label for="passwordOld" class="form-label ms-2">Contraseña actual:</label>
        <input type="password" class="form-control" formControlName="passwordOld" placeholder="Contraseña">

      </div>
    </div>

    <!-- Password -->
    <div class="row">
      <div class="col-md-6">
        <label for="passwordNew" class="form-label ms-2">Contraseña nueva:</label>
        <input type="password" class="form-control" formControlName="passwordNew" placeholder="Contraseña">
        <span class="form-text text-danger" *ngIf="campoNoValidoPass('passwordNew')">
          La contraseña debe de ser mayor de 6 caracteres.
        </span>
      </div>

      <!-- Password2 -->
      <div class="col-md-6">
        <label for="passwordNew2" class="form-label ms-2">Repite contraseña:</label>
        <input type="password" class="form-control" formControlName="passwordNew2" placeholder="Confirma contraseña">
        <span class="form-text text-danger" *ngIf="campoNoValidoPass('passwordNew2')">
          Las contraseñas deben de ser iguales
        </span>
      </div>
    </div>

    <div class="w-100 text-center">
      <input type="submit" class="btn rounded-3 w-25 navyBg text-white" value="Guardar">
    </div>

  </form>





  <!-- <section class="vh-75 my-3">
      <div class="py-1 h-75">
        <div class="row d-flex justify-content-center align-items-center h-75 w-100  ms-auto me-auto">
          <div class="col-12 col-sm-12 col-md-8 col-lg-11 col-xl-10">
            <div class="card d-flex shadow" style="border: 1px solid lightblue;">
              <div class="card-body p-5 pe-0 text-center row row-cols-sm-1 row-cols-md.2 row-cols-lg-2 w-100 justify-content-center">
    
                <div class="col w-25">
                  <div class="p-3">
                    <img class="img-fluid rounded-circle" src="https://cdn.computerhoy.com/sites/navi.axelspringer.es/public/styles/1200/public/media/image/2018/08/fotos-perfil-whatsapp_16.jpg?itok=fl2H3Opv" alt="foto de perfil">
                  </div>
                  <a href="#" class="btn btn-success">Cambiar foto</a>
                </div>
    
                <form class="col w-75" autocomplete="off"  [formGroup]="miFormulario" (ngSubmit) = "submitFormulario()"  class="row g-3">
                
                Nombre
                <div class="col-md-4">
                  <input type="text" class="form-control" formControlName="nombre" placeholder="Nombre">
                  <span class="form-text text-danger"
                              *ngIf="campoNoValido('nombre')">
                            Solo letras
                  </span>
                </div>
    
                Apellidos
                <div class="col-md-8">
                  <input type="text" class="form-control" formControlName="apellidos" placeholder="Apellidos">
                  <span class="form-text text-danger"
                              *ngIf="campoNoValido('apellidos')">
                            Debes introducir dos apellidos
                  </span>
                </div>
    
                Email
                <div class="col-md-8">
                  <input type="email" class="form-control" formControlName="email" placeholder="Email">
                  <span class="form-text text-danger"
                              *ngIf="campoNoValido('email')">
                            {{ emailErrorMsg }}
                  </span>
                  
                </div>
    
                Telefono
                <div class="col-md-4">
                  <input type="text" class="form-control" formControlName="telefono" placeholder="Teléfono">
                  <span class="form-text text-danger"
                              *ngIf="campoNoValido('telefono')">
                            Deben ser 9 dígitos.
                  </span>
                </div>
    
                Password
                <div class="col-md-6">
                  <input type="password" class="form-control" formControlName="password" placeholder="Contraseña">
                  <span class="form-text text-danger"
                              *ngIf="campoNoValido('password')">
                            La contraseña debe de ser mayor de 6 caracteres.
                  </span>
                </div>
    
                Password2
                <div class="col-md-6">
                  <input type="password" class="form-control" formControlName="password2" placeholder="Confirma contraseña">
                  <span class="form-text text-danger"
                    *ngIf="campoNoValido('password2')">
                    Las contraseñas deben de ser iguales
                    </span>
                </div>
    
                Direcccion
                <div class="col-md-8 text-start">
                  <label for="inputEmail4" class="form-label ms-2">Dirección por defecto</label>
                  <input type="text" class="form-control" formControlName="direccion" placeholder="Dirección">
                  <span class="form-text text-danger"
                    *ngIf="campoNoValido('direccion')">
                    La dirección es requerida
                    </span>
                </div>
    
                Nacimiento
                <div class="col-md-4 text-start">
                  <label for="inputPassword4" class="form-label ms-2">Nacimiento</label>
                  <input type="date" class="form-control" formControlName="nacimiento">
                
                </div>
                
              </form>

              </div>
            </div>
          </div>
        </div>
      </div>
    </section> -->

</div>
